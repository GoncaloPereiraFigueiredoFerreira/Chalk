extends base

block channel_cont
      .relative
        .bg-white.w-full.border-gray-200.shadow(class='dark:bg-gray-800 dark:border-gray-700')
          .grid.grid-cols-6

            .border-r.border-gray-300.col-span-4(class='lg:col-span-1 h-[32rem]')
              .h-full.flex.flex-col
                ul.mt-4.overflow-auto
                  .justify-items-start
                    li
                      .p-5(class="bg-blue-600 dark:bg-blue-800 text-white")
                        a(href="/channel/settings/"+channel._id).text-white Edit Channel
                    li
                      .p-5(class="bg-white dark:bg-gray-800 dark:text-white")
                        a(href="/channel/students/"+channel._id) Student List
                    li
                      .p-5(class="bg-white dark:bg-gray-800 dark:text-white")
                        a(href="/channel/addPublisher/"+channel._id) Add Publisher
                    li
                      .p-5(class="bg-white dark:bg-gray-800 dark:text-white")
                        a(href="/channel/submissions/"+channel._id) Submissions
                
                .mt-auto 
                  form(method="GET" action="/channel/delete/"+channel._id)
                    button.w-full.block.text-white.bg-red-700.font-medium.text-sm.px-5.text-center(data-modal-target='popup-modal' data-modal-toggle='popup-modal' class='hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 py-2.5 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-800' type='button')
                      | Delete Channel
                    #popup-modal.fixed.top-0.left-0.right-0.z-50.hidden.p-4.overflow-x-hidden.overflow-y-auto.max-h-full(tabindex='-1' class='md:inset-0 h-[calc(100%-1rem)]')
                      .relative.w-full.max-w-md.max-h-full
                        .relative.bg-white.rounded-lg.shadow(class='dark:bg-gray-700')
                          .p-6.text-center
                            h3.mb-5.text-lg.font-normal.text-gray-500(class='dark:text-gray-400') Are you sure you want to delete this channel?
                            button.text-white.bg-red-600.font-medium.rounded-lg.text-sm.inline-flex.items-center.px-5.text-center.mr-2(data-modal-hide='popup-modal' type='submit' class='hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 dark:focus:ring-red-800 py-2.5')
                              | Yes, I'm sure
                            button.text-red-500.bg-white.rounded-lg.border.border-gray-200.text-sm.font-medium.px-5(data-modal-hide='popup-modal' type='button' class='hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-gray-200 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600') No, cancel

              
            .block.col-span-4(class='lg:col-span-5')
              .p-5
                h1.mb-5.text-2xl.font-medium(class="dark:text-white") Submissions
                .grid.grid-cols-5
                  .col-span-1.border-r-4.h-full.flex-col
                    each date in deliveries
                      if date._id == submissions._id
                        p.p-5.border-b.bg-blue-600.text-white #[a(href="/channel/submissions/"+channel._id+"?date="+date._id) #{date.date} #[strong #{date.title}]]
                      else
                        p.p-5.border-b #[a(href="/channel/submissions/"+channel._id+"?date="+date._id) #{date.date} #[strong #{date.title}]]

                  .col-span-4
                    table.p-4.mt-4.border-colapse.w-full.table-fixed.border-spacing-10(class="hover:table-fixed dark:text-white")
                      thead
                        tr.border-b.bg-gray-400
                          th.p-5.font-medium Student Email
                          th.p-5.border-l.font-medium Description
                          th.p-5.border-l.font-medium Delivery Date
                          th.p-5.border-l.font-medium Uploaded file
                      tbody
                        each sub in submissions.submissions
                          tr.border-b(class="hover:bg-gray-50 dark:bg-gray-700 dark:hover:bg-gray-500")
                            td.p-3 #{sub.student}
                            td.p-3.border-l #{sub.description}
                            td.p-3.border-l #{sub.deliver_date}
                            td.p-3.border-l #[a(href='/channel/' + channel._id + '/file/' + sub.file) Download]
                
                 
                    
                  

              